<app-nav></app-nav>

<main>
  <div id="container">
    <div class="container" *ngIf="user[0]">
      <h2>Edit your account</h2>
      <form [formGroup]="formEdit" (ngSubmit)="updateUser()">
        <div class="form-group">
          <label for="userName">User name:</label>
          <input
            type="text"
            class="form-control"
            id="userName"
            formControlName="userName"
            placeholder="{{ user[0].userName }}"
          />
          <span
            *ngIf="
              formEdit.controls['userName'].errors &&
              !formEdit.controls['userName'].pristine
            "
          >
            Please enter a valid name that contains at least two characters
          </span>
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
            placeholder="{{ user[0].email }}"
          />
          <span
            *ngIf="
              formEdit.controls['email'].errors &&
              !formEdit.controls['email'].pristine
            "
          >
            Please enter a valid email
          </span>
        </div>
        <div class="form-group">
          <label for="dateOfBirth">Date of birth:</label>
          <input
            type="date"
            class="form-control"
            id="dateOfBirth"
            formControlName="dateOfBirth"
            placeholder="{{ user[0].dateOfBirth.slice(0, 10) }}"
          />
          <span
            *ngIf="
              formEdit.controls['dateOfBirth'].errors &&
              !formEdit.controls['dateOfBirth'].pristine
            "
          >
            Please choose a date
          </span>
        </div>
        <div class="form-group">
          <label for="address">Address:</label>
          <input
            type="text"
            class="form-control"
            id="address"
            formControlName="address"
            placeholder="{{ user[0].address }}"
          />
          <span
            *ngIf="
              formEdit.controls['address'].errors &&
              !formEdit.controls['address'].pristine
            "
          >
            Please enter a valid addreass that contains at least 6 characters
          </span>
        </div>

        <div class="form-group">
          <label for="zipCode">Zip code:</label>
          <input
            type="text"
            class="form-control"
            id="zipCode"
            formControlName="zipCode"
            placeholder="{{ user[0].zipCode }}"
          />
          <span
            *ngIf="
              formEdit.controls['zipCode'].errors &&
              !formEdit.controls['zipCode'].pristine
            "
          >
            Please enter a valid zip code like 1234we
          </span>
        </div>
        <div class="form-group">
          <label for="phone">Phone:</label>
          <input
            type="tel"
            class="form-control"
            id="phone"
            formControlName="phone"
            placeholder="{{ user[0].phone }}"
          />
          <span
            *ngIf="
              formEdit.controls['phone'].errors &&
              !formEdit.controls['phone'].pristine
            "
          >
            Please enter a valid phone numberthat contains 10 numbers
          </span>
        </div>
        <div class="form-group">
          <label for="profession">Profession:</label>
          <select
            class="form-control required"
            name="profession"
            id="profession"
            formControlName="profession"
          >
            <option value="" selected>{{ user[0].profession }}</option>
            <option *ngFor="let profession of professionsList">
              {{ profession }}
            </option>
            <span
              *ngIf="
                formEdit.controls['profession'].errors &&
                !formEdit.controls['profession'].pristine
              "
            >
              Please choose a profession
            </span>
          </select>
        </div>
        <button type="submit" class="btn" [disabled]="!formEdit.valid">
          Update
        </button>
        <p class="center" *ngIf="errorMessage">Sorry, try again later</p>
      </form>
    </div>
  </div>
</main>
